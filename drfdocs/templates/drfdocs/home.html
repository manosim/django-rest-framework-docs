{% extends "drfdocs/base.html" %}

{% block content %}

  <h1>API Endpoints</h1>
  {% regroup endpoints by name_parent as endpoints_grouped %}

  {% for group in endpoints_grouped %}
    <h1>{{group.grouper}}</h1>

    {% for endpoint in group.list %}
      <div class="endpoint">
        <h4 class="title">{{ endpoint.path }}</h4>

        <ul class="list-inline methods">
          {% for method in endpoint.allowed_methods %}
            <li class="method">{{ method }}</li>
          {% endfor %}
        </ul>

        <p>View Name: {{ endpoint.view_name }}</p>
        <p>URL Name: {{ endpoint.name }}</p>

        {% if endpoint.fields %}
        <p>Fields:</p>
          <ul class="list fields">
          {% for field in endpoint.fields %}
            <li class="field">{{ field.name }}: {{ field.type }}</li>
          {% endfor %}
          </ul>
        {% endif %}

      </div>
    {% endfor %}

  {% endfor %}

{% endblock %}
