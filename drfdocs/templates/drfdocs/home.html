{% extends "drfdocs/base.html" %}

{% block content %}

  <h1>API Endpoints</h1>
  {% regroup endpoints by name_parent as endpoints_grouped %}

  {% for group in endpoints_grouped %}
    <h1>{{group.grouper}}</h1>

    {% for endpoint in group.list %}
      <div class="endpoint">
        <div class="row">
          <div class="col-md-7">
            <h4 class="title">{{ endpoint.path }}</h4>
          </div>
          <div class="col-md-5 text-right">
            <ul class="list-inline methods">
              {% for method in endpoint.allowed_methods %}
                <li class="method {{ method|lower }}">{{ method }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        {% if endpoint.fields %}
        <p>Fields:</p>
          <ul class="list fields">
          {% for field in endpoint.fields %}
            <li class="field">{{ field.name }}: {{ field.type }}</li>
          {% endfor %}
          </ul>
        {% else %}
        <p>No fields.</p>
        {% endif %}

      </div>
    {% endfor %}

  {% endfor %}

{% endblock %}
