language: python

sudo: false

python:
  - "2.7"
  - "3.4"
  - "3.5"

env:
    - DJANGO_VERSION=1.8
    - DJANGO_VERSION=1.9
    - secure: "n1kZ3D/3EXtG1A+EZLIoK1PTThvIDt+YSScpTuitAMcwmcjNAVwWddsH6o+I5fnz7ojQKHzaeJhATbuewhJkOauh0qj5y+JZ5epHt9md8w9nJNf8yl3jHKH5M3qsjOZBctaA/fnC/oftNRu3p4HBGlfHpmqpUNRXCVA5dekbglPtg7uWbQb85DQP7ZJOL2f5a5xgkM/WjNkAyDsK6d7OBaFr4WW1AQIxpfIDxBF4sz54Lo3yNMsXgB2Yvv3pXAVmlmVnGDvQVBrlH5hLX+GWJYcYzfOCC+qWbtIknqahymV7JAN5DTEw/ru0w8pTB8xGOPKxL1X/tqPS3frtUJwIArnSUjEcMMSsDD5QTVMl5QcBs+vNemo3+AFO78lw2Ma60qqlyzzUO2IXIEYOBWRZObvhJ4Lpz3gWsVJpiDuqoquvWqVrXGLdhiEzOFD+0MA6PankKwpiF50qq5qnCKYw87eM4QLTKVEiyIJ+uJUkU5Kf2rH75O3lGtyzIvxr22QtDSrZG1qTUjxCa8ke5rYEMY4YVC5iFSYcr6aV5OaksH4cHtCF1zwSRrFvFVAHqWhomNiQpfwJtlUiL/AbnAKAMdIPcHJP3Wq/QOzoYlnvhYyfRTF4j6tC4aVHVVFZYrzwybP9s+ucJZjFJivZobQHqXjhMfZn3zvlARWQr2GSo3s="

install:
  - cd rest_framework_docs/static/ && npm install && cd ../../
  - pip install -r requirements.txt
  - pip install -U Django==$DJANGO_VERSION
  - pip install codecov

script:
  - python runtests.py

after_success:
  - codecov
  - ./docs/deploy

notifications:
  slack:
    secure: ZTzxh+tXuf7uaFMBQtrjupS+qqtM3dsnYgHptErsg3SjH0q1jH+HpKD+1RlqGqN36mREB1wSlOhGMzfyGNeNhl0PHQLEtZhs3dRLdzR1xMZWKm7xtCe4TcFoSPh5SoLOHrQVaSEyHeE53gkbOfI7Q5SqVRJOlJv9iCCD8TM+KVdDubCeByevunFSzGFwdLvtk7QpRwXivOGJdJHXXWgVl6ieviQKun5Z03woiLr5L4p37szVkbD60T5lFYAhCL1PzLQ6hVhDn7L4J06LIaQ+l+Jp6cunB1iJtR1Rz+C7g/r2VGgJ5G3sHB3QyFqw9Q/E3oBB81xQTwjL7WSfDuKctW2CPWHac0T9VhidQDoq7uR0EYPMkZXnc+iZa5wmL8IfjEadse0rxdfiIOE+mev+i5BrzHBq/+tZV/D+HKzsRXUEf3BZaRpq7gQHWbj0dusX+R504BQtKqYaGqBFdWJ0+Dry739R4xTeWk10Xa3wpzSFQ1c0yUQbY+3W/DNSYKcRV+Z9eGhMSO1QfBlGzqTlkWkVDnD9OYIpo5iJOkDouJVtzPOyyFBoNGqkvUHiKBO6ohuh48S3xXrjhihkz8xuOSrU1W7xGhCG2RA/vHZh8Fm20l1oIJ/p/Gn6kTLT33XZsxnF9C0Qmgvr6f96MKNPJjNKp0zYj4tJaZr9Xi4rsD8=
